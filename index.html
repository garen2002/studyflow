<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Вставьте сюда свой код Google Search Console -->
  <meta name="google-site-verification" content="ВАШ_КОД_ИЗ_GOOGLE" />

  <title>StudyFlow — учебный сайт</title>
  <meta name="description" content="StudyFlow — учебный сайт для планирования задач, ведения конспектов и самопроверки. Работает офлайн и без регистрации.">
  <meta name="keywords" content="учебный сайт, конспекты, планирование учебы, studyflow">
  <meta name="author" content="Твое имя">

  <link rel="manifest" href="manifest.json">
  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f5f5f5; }
    header { background: #4A90E2; color: #fff; padding: 20px; text-align: center; }
    main { padding: 20px; max-width: 800px; margin: auto; }
    h2 { color: #333; }
    textarea { width: 100%; height: 150px; margin-bottom: 10px; }
    input, button { padding: 10px; margin: 5px 0; }
    ul { list-style: none; padding: 0; }
    li { background: #fff; margin: 5px 0; padding: 10px; border-radius: 5px; }
    .task-done { text-decoration: line-through; color: #999; }
  </style>
</head>
<body>
  <header>
    <h1>StudyFlow</h1>
    <p>Учебный сайт для конспектов и самопроверки</p>
  </header>

  <main>
    <h2>Конспект</h2>
    <textarea id="notes" placeholder="Пиши свои заметки здесь..."></textarea>
    <button onclick="saveNotes()">Сохранить заметки</button>

    <h2>Задачи</h2>
    <input type="text" id="taskInput" placeholder="Добавить новую задачу">
    <button onclick="addTask()">Добавить</button>
    <ul id="tasksList"></ul>

    <h2>Самопроверка</h2>
    <textarea id="quizInput" placeholder="Напиши вопрос и ответ через |, например: Вопрос|Ответ"></textarea>
    <button onclick="addQuiz()">Добавить вопрос</button>
    <ul id="quizList"></ul>
  </main>

  <script>
    // ==== Заметки ====
    const notesEl = document.getElementById('notes');
    const savedNotes = localStorage.getItem('study_notes');
    if(savedNotes) notesEl.value = savedNotes;
    function saveNotes() {
      localStorage.setItem('study_notes', notesEl.value);
      alert('Заметки сохранены!');
    }

    // ==== Задачи ====
    const taskInput = document.getElementById('taskInput');
    const tasksList = document.getElementById('tasksList');
    let tasks = JSON.parse(localStorage.getItem('study_tasks') || '[]');

    function renderTasks() {
      tasksList.innerHTML = '';
      tasks.forEach((task, index) => {
        const li = document.createElement('li');
        li.textContent = task.text;
        if(task.done) li.classList.add('task-done');
        li.onclick = () => toggleTask(index);
        tasksList.appendChild(li);
      });
    }

    function addTask() {
      if(taskInput.value.trim() === '') return;
      tasks.push({ text: taskInput.value.trim(), done: false });
      localStorage.setItem('study_tasks', JSON.stringify(tasks));
      taskInput.value = '';
      renderTasks();
    }

    function toggleTask(index) {
      tasks[index].done = !tasks[index].done;
      localStorage.setItem('study_tasks', JSON.stringify(tasks));
      renderTasks();
    }

    renderTasks();

    // ==== Самопроверка ====
    const quizInput = document.getElementById('quizInput');
    const quizList = document.getElementById('quizList');
    let quiz = JSON.parse(localStorage.getItem('study_quiz') || '[]');

    function renderQuiz() {
      quizList.innerHTML = '';
      quiz.forEach((q, i) => {
        const li = document.createElement('li');
        li.textContent = `${q.question} ? `;
        const btn = document.createElement('button');
        btn.textContent = 'Показать ответ';
        btn.onclick = () => alert(q.answer);
        li.appendChild(btn);
        quizList.appendChild(li);
      });
    }

    function addQuiz() {
      if(quizInput.value.trim() === '' || !quizInput.value.includes('|')) return alert('Неверный формат. Введите: Вопрос|Ответ');
      const parts = quizInput.value.split('|');
      quiz.push({ question: parts[0].trim(), answer: parts[1].trim() });
      localStorage.setItem('study_quiz', JSON.stringify(quiz));
      quizInput.value = '';
      renderQuiz();
    }

    renderQuiz();
  </script>
</body>
</html>
